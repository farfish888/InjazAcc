<Page x:Class="InjazAcc.UI.Views.Pages.ReceiptsPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:vm="clr-namespace:InjazAcc.UI.ViewModels"
      Title="إيصالات قبض">
    <Grid Margin="8">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="2*"/>
            <ColumnDefinition Width="3*"/>
        </Grid.ColumnDefinitions>

        <Border Background="#1FFFFFFF" Padding="12" CornerRadius="12" Margin="4">
            <StackPanel>
                <TextBlock Text="إنشاء إيصال قبض" FontSize="18" FontWeight="Bold" Margin="0,0,0,12"/>
                <TextBlock Text="العميل"/>
                <TextBox Text="{Binding CustomerName, UpdateSourceTrigger=PropertyChanged}"/>

                <TextBlock Text="المبلغ" Margin="0,8,0,0"/>
                <TextBox Text="{Binding Amount, UpdateSourceTrigger=PropertyChanged}" />

                <TextBlock Text="طريقة الدفع" Margin="0,8,0,0"/>
                <ComboBox ItemsSource="{Binding Methods}" SelectedItem="{Binding Method}" />

                <TextBlock Text="رقم الإيصال (اختياري)" Margin="0,8,0,0"/>
                <TextBox Text="{Binding Number, UpdateSourceTrigger=PropertyChanged}" />

                <Button Content="حفظ + ترحيل" Margin="0,12,0,0" Command="{Binding SaveCommand}"/>
            </StackPanel>
        </Border>

        <Border Grid.Column="1" Background="#1FFFFFFF" Padding="12" CornerRadius="12" Margin="4">
            <StackPanel>
                <TextBlock Text="آخر 50 إيصال" FontSize="18" FontWeight="Bold" Margin="0,0,0,12"/>
                <DataGrid ItemsSource="{Binding Items}" AutoGenerateColumns="False" IsReadOnly="True" Height="420">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="رقم" Binding="{Binding Number}"/>
                        <DataGridTextColumn Header="تاريخ" Binding="{Binding Date}"/>
                        <DataGridTextColumn Header="مبلغ" Binding="{Binding Amount}"/>
                        <DataGridTextColumn Header="طريقة" Binding="{Binding Method}"/>
                    </DataGrid.Columns>
                </DataGrid>
                <TextBlock Text="* عند الحفظ يتم توليد قيد: مدين (صندوق/بنك) - دائن (العملاء)" Margin="0,8,0,0"/>
            </StackPanel>
        </Border>
    </Grid>
</Page>
